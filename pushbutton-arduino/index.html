<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Pushbutton library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pushbutton library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Pushbutton library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Version: 1.1.0<br />
 Release date: 2014 Dec 11<br />
 <a href="http://www.pololu.com/">www.pololu.com</a></p>
<h2>Summary</h2>
<p>This is a library for the Arduino IDE that helps interface with pushbuttons by either reading the state of the button or monitoring it for press/release events.</p>
<h2>Supported platforms</h2>
<p>This library is designed to work with the Arduino IDE versions 1.0.x and 1.5.x, and will probably not work with older versions.</p>
<p>This library supports any Arduino-compatible board.</p>
<h2>Getting started</h2>
<h3>Hardware</h3>
<p>This library supports many different ways of connecting a button to your board. The simplest way is to select a pin that is not being used for anything else and to connect a <a href="http://www.pololu.com/product/1400">normally-open momentary pushbutton</a> from that pin to ground.</p>
<h3>Software</h3>
<p>Download the <a href="https://github.com/pololu/pushbutton-arduino">pushbutton-arduino library from GitHub</a>, decompress it, and drag the "Pushbutton" folder into the "libraries" subdirectory inside your Arduino sketchbook directory. You can view your sketchbook location by selecting File-&gt;Preferences in the Arduino environment. If there is not already a "libraries" folder in that location, you should create it yourself. After installing the library, restart the Arduino environment. Example code for using this library can be found in the File-&gt;Examples menu.</p>
<h2>Creating a <a class="el" href="class_pushbutton.html" title="Main class for interfacing with pushbuttons. ">Pushbutton</a> object</h2>
<p>To create a <a class="el" href="class_pushbutton.html" title="Main class for interfacing with pushbuttons. ">Pushbutton</a> object with default settings, which enables the internal pull-up on the pin and interprets a high pin value as the default (unpressed) state of the button, put these lines near the top of your sketch:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pushbutton_8h.html">Pushbutton.h</a>&gt;</span></div>
<div class="line"><a class="code" href="class_pushbutton.html">Pushbutton</a> button(BUTTON_PIN);</div>
</div><!-- fragment --><p>Optional arguments can be passed to the constructor to specify other button types and connection methods; see the documentation links below for details.</p>
<h2>Reading the state of the button</h2>
<p>The <code>isPressed()</code> function can be used to directly read the state of the button. This function simply calls <code>digitalRead</code> to get the current state of the button and does not take care of any debouncing.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (button.isPressed())</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// The button is currently pressed.</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2>Waiting for an event</h2>
<p>The <a class="el" href="class_pushbutton.html" title="Main class for interfacing with pushbuttons. ">Pushbutton</a> class has several functions that wait for an event on the button. These functions take care of debouncing for you.</p>
<p>The <code>waitForPress()</code> function waits until the button is pressed. The <code>waitForRelease()</code> function waits until the button is released.</p>
<p>Note that if the button is already pressed when <code>waitForPress()</code> is called, it will return quickly (in 10 ms). If you want to perform an action when the user presses the button but want to avoid performing the action multiple times while the user holds the button down, you will need to call <code>waitForRelease()</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  button.waitForPress();</div>
<div class="line">  <span class="comment">// Perform action here.</span></div>
<div class="line">  button.waitForRelease();</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>waitForButton()</code> function waits until the button is pressed, and then waits until the button is released. This function could be used like this:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  button.waitForButton();</div>
<div class="line">  <span class="comment">// Perform action here.</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>These functions wait for an event to happen before returning, so your board cannot do much else while it is waiting. They are appropriate for simple programs where a button press is the only event you need to respond to in the main loop.</p>
<h2>Monitoring for an event</h2>
<p>The <a class="el" href="class_pushbutton.html" title="Main class for interfacing with pushbuttons. ">Pushbutton</a> class provides two non-blocking that allow you to monitor the button for transitions. These functions are powerful and can be used in almost any situation.</p>
<p>The <code>getSingleDebouncedButtonPress()</code> function will return true once for each time it detects the button changing from the released state to the pressed state. The <code>getSingleDebouncedButtonRelease()</code> function will return true once for each time it detects the button changing from the pressed state to the released state.</p>
<p>These functions are non-blocking and are meant to be called repeatedly in a loop:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  <span class="keywordflow">if</span> (button.getSingleDebouncedButtonPress())</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// The button was pressed, so perform some action.</span></div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Perform other tasks</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2>Documentation</h2>
<p>For complete documentation of this library, including many features that were not mentioned here, see <a href="https://pololu.github.io/pushbutton-arduino/_pushbutton_8h.html">the Pushbutton.h file documentation</a> from <a href="https://pololu.github.io/pushbutton-arduino">https://pololu.github.io/pushbutton-arduino</a>.</p>
<h2>Version history</h2>
<ul>
<li>1.1.0 (2014 Dec 11):<ul>
<li>Added the <a class="el" href="class_pushbutton_base.html" title="General pushbutton class that handles debouncing. ">PushbuttonBase</a> class, which allows custom pushbutton classes with their own unique ways of reading the state of the button.</li>
<li>Changed all booleans (which are actually uint8_t) to bools.</li>
<li>Fixed a problem in the logic for getSingleDebouncedPress().</li>
<li>Added the PushbuttonStateMachine class to reduce code duplication.</li>
<li>Moved the library to its own repository at <a href="https://github.com/pololu/pushbutton-arduino">https://github.com/pololu/pushbutton-arduino</a>.</li>
</ul>
</li>
<li>1.0.1 (2014 Jan 22): Fixed it to work properly with multiple instances. Improved the debouncing logic and reduced the width of PrevTimeMillis variables. This release was from commit 8c4e8f5 in pololu/zumo-shield.</li>
<li>1.0.0 (2012 Nov 09): Original release. At this time, the <a class="el" href="class_pushbutton.html" title="Main class for interfacing with pushbuttons. ">Pushbutton</a> library lived in <a href="https://github.com/pololu/zumo-shield">https://github.com/pololu/zumo-shield</a> and this release was from commit a02cf00 in pololu/zumo-shield. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 12 2014 16:59:07 for Pushbutton library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>

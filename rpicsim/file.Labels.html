<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: Labels
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Labels";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    
        <a href="_index.html">Index</a> &raquo;
        
        <a href="file.Manual.html">RPicSim manual</a> &raquo;
    
    <span class="title">File: Labels</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Labels">Labels</h1>

<p>RPicSim automatically processes the symbol table in your firmware&#39;s COF
file. Any symbol in program space is called a <em>label</em> and RPicSim
stores a <span class='object_link'><a href="RPicSim/Label.html" title="RPicSim::Label (class)">RPicSim::Label</a></span> object to represent it.</p>

<p>For an assembly program, RPicSim labels correspond to any assembly label
defined in code space. These will usually correspond to subroutines and
goto targets but could also be variables stored in program memory. In
firmware assembled by MPASM, all labels are exported publicly by default,
so they will all be available to RPicSim.</p>

<p>For a C program, RPicSim labels usually correspond to functions.</p>

<h2 id="label-Getting+a+Label+object">Getting a Label object</h2>

<p>To get a Label object, call <span class='object_link'><a href="RPicSim/Sim.html#label-instance_method" title="RPicSim::Sim#label (method)">RPicSim::Sim#label</a></span> and pass it the name of
the label as the first argument:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sim'>sim</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='symbol'>:loopStart</span><span class='rparen'>)</span>  <span class='comment'># =&gt; returns a Label object
</span></code></pre>

<p>C compilers will generally put an underscore at the beginning of any labels
they generate. Therefore, to get the address of a C function named
<code>foo</code>, you might have to access a label named <code>_foo</code>
using code like this:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sim'>sim</span><span class='period'>.</span><span class='id identifier rubyid_label'>label</span><span class='lparen'>(</span><span class='symbol'>:_foo</span><span class='rparen'>)</span>
</code></pre>

<p>If RPicSim cannot find the label you want to use, you might troubleshoot it
by printing out a list of all the known labels:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_sim'>sim</span><span class='period'>.</span><span class='id identifier rubyid_labels'>labels</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
</code></pre>

<h2 id="label-Using+a+Label+object">Using a Label object</h2>

<p>There are three main things you can do with a Label object:</p>
<ul><li>
<p>Get its name by calling <span class='object_link'><a href="RPicSim/Label.html#name-instance_method" title="RPicSim::Label#name (method)">RPicSim::Label#name</a></span>.</p>
</li><li>
<p>Get its address by calling <span class='object_link'><a href="RPicSim/Label.html#address-instance_method" title="RPicSim::Label#address (method)">RPicSim::Label#address</a></span>.</p>
</li><li>
<p>Pass it or its name as an argument to some of the methods for
<a href="file.Running.html" title="running">running</a> the simulation.</p>
</li></ul>
</div></div>

      <div id="footer">
  
    This is part of the <a href="file.Manual.html">RPicSim manual</a>.
  
  <br/><br/>

  Generated on Wed Apr 17 15:05:23 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.3).
</div>

    </div>
  </body>
</html>
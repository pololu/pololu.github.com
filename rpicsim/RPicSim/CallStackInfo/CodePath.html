<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RPicSim::CallStackInfo::CodePath
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!RPicSim/CallStackInfo/CodePath.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RPicSim.html" title="RPicSim (module)">RPicSim</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../CallStackInfo.html" title="RPicSim::CallStackInfo (class)">CallStackInfo</a></span></span>
     &raquo; 
    <span class="title">CodePath</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RPicSim::CallStackInfo::CodePath
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">RPicSim::CallStackInfo::CodePath</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Enumerable</dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rpicsim/call_stack_info.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This is a helper class for <span class='object_link'><a href="../CallStackInfo.html" title="RPicSim::CallStackInfo (class)">RPicSim::CallStackInfo</a></span>.  It wraps an array of
<span class='object_link'><a href="../Instruction.html" title="RPicSim::Instruction (class)">Instruction</a></span> objects representing an execution path from one part of the
program (usually the entry vector or the ISR vector) to another part of the
program. It has method for reducing this list of instructions by only
showing the interesting ones.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#instructions-instance_method" title="#instructions (instance method)">- (Object) <strong>instructions</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>An array of <span class='object_link'><a href="../Instruction.html" title="RPicSim::Instruction (class)">Instruction</a></span>s that represents a possible path through the
program.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#addresses-instance_method" title="#addresses (instance method)">- (Object) <strong>addresses</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the addresses of the underlying instructions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(&amp;proc) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterates over the wrapped instructions by calling each on the underlying
array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (CodePath) <strong>initialize</strong>(instructions) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance that wraps the given instructions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#interesting_addresses-instance_method" title="#interesting_addresses (instance method)">- (Object) <strong>interesting_addresses</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of the addresses of the interesting instructions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#interesting_instruction%3F-instance_method" title="#interesting_instruction? (instance method)">- (Boolean) <strong>interesting_instruction?</strong>(instruction, next_instruction) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the given instruction is interesting.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#interesting_instructions-instance_method" title="#interesting_instructions (instance method)">- (Array(Integer)) <strong>interesting_instructions</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns just the interesting instructions, as defined by
<span class='object_link'><a href="#interesting_instruction%3F-instance_method" title="RPicSim::CallStackInfo::CodePath#interesting_instruction? (method)">#interesting_instruction?</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a multi-line string representing this execution path.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RPicSim::CallStackInfo::CodePath (class)">CodePath</a></span></tt>) <strong>initialize</strong>(instructions) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A new instance that wraps the given instructions.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>instructions</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array(Instruction) The instructions to wrap.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_instructions'>instructions</span><span class='rparen'>)</span>
  <span class='ivar'>@instructions</span> <span class='op'>=</span> <span class='id identifier rubyid_instructions'>instructions</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="instructions-instance_method">
  
    - (<tt>Object</tt>) <strong>instructions</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>An array of <span class='object_link'><a href="../Instruction.html" title="RPicSim::Instruction (class)">Instruction</a></span>s that represents a possible path through the
program. Each instruction in the list could possibly execute after the
previous one.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 221</span>

<span class='kw'>def</span> <span class='id identifier rubyid_instructions'>instructions</span>
  <span class='ivar'>@instructions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="addresses-instance_method">
  
    - (<tt>Object</tt>) <strong>addresses</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the addresses of the underlying instructions.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 237</span>

<span class='kw'>def</span> <span class='id identifier rubyid_addresses'>addresses</span>
  <span class='id identifier rubyid_instructions'>instructions</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:address</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    - (<tt>Object</tt>) <strong>each</strong>(&amp;proc) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Iterates over the wrapped instructions by calling <code>each</code> on the
underlying array. Since this class also includes <code>Enumerable</code>,
it means you can use any of the usual methods of Enumerable (e.g.
<code>select</code>) on this class.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instructions'>instructions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_proc'>proc</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interesting_addresses-instance_method">
  
    - (<tt>Object</tt>) <strong>interesting_addresses</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of the addresses of the interesting instructions.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


242
243
244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 242</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interesting_addresses'>interesting_addresses</span>
  <span class='id identifier rubyid_interesting_instructions'>interesting_instructions</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:address</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interesting_instruction?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>interesting_instruction?</strong>(instruction, next_instruction) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the given instruction is interesting.  An instruction is
interesting if you would need to see it in order to understand the path
program has taken through the code and understand why the call stack could
reach a certain depth.</p>
<ul><li>
<p>The first and last instructions are interesting.</p>
</li><li>
<p>A branch that is taken is interesting.</p>
</li><li>
<p>A subroutine call is interesting.</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 264</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interesting_instruction?'>interesting_instruction?</span><span class='lparen'>(</span><span class='id identifier rubyid_instruction'>instruction</span><span class='comma'>,</span> <span class='id identifier rubyid_next_instruction'>next_instruction</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_instruction'>instruction</span> <span class='op'>==</span> <span class='ivar'>@instructions</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>||</span> <span class='id identifier rubyid_instruction'>instruction</span> <span class='op'>==</span> <span class='ivar'>@instructions</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_transition'>transition</span> <span class='op'>=</span> <span class='id identifier rubyid_instruction'>instruction</span><span class='period'>.</span><span class='id identifier rubyid_transition_to'>transition_to</span><span class='lparen'>(</span><span class='id identifier rubyid_next_instruction'>next_instruction</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_transition'>transition</span><span class='period'>.</span><span class='id identifier rubyid_call_depth_change'>call_depth_change</span> <span class='op'>&gt;=</span> <span class='int'>1</span>
    <span class='comment'># This edge represents a function call so it is interesting.
</span>    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_transition'>transition</span><span class='period'>.</span><span class='id identifier rubyid_non_local?'>non_local?</span>
    <span class='comment'># This edge represents a goto, so that is interesting
</span>    <span class='comment'># because you need to know which gotos were taken to understand
</span>    <span class='comment'># a code path.  If seeing the skip is annoying we could
</span>    <span class='comment'># suppress that by adding more information to the edge.
</span>    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># Everything else is not interesting.
</span>
  <span class='comment'># We are purposing deciding that skips are not interesting.
</span>  <span class='comment'># because if you are trying to understand the full code path
</span>  <span class='comment'># it is obvious whether any given skip was taken or not, as long
</span>  <span class='comment'># as you know which calls and gotos were taken.
</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interesting_instructions-instance_method">
  
    - (<tt>Array(Integer)</tt>) <strong>interesting_instructions</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns just the interesting instructions, as defined by
<span class='object_link'><a href="#interesting_instruction%3F-instance_method" title="RPicSim::CallStackInfo::CodePath#interesting_instruction? (method)">#interesting_instruction?</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array(Integer)</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251
252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interesting_instructions'>interesting_instructions</span>
  <span class='ivar'>@instructions</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_instruction'>instruction</span><span class='comma'>,</span> <span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='id identifier rubyid_next_instruction'>next_instruction</span> <span class='op'>=</span> <span class='ivar'>@instructions</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_interesting_instruction?'>interesting_instruction?</span><span class='lparen'>(</span><span class='id identifier rubyid_instruction'>instruction</span><span class='comma'>,</span> <span class='id identifier rubyid_next_instruction'>next_instruction</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a multi-line string representing this execution path.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rpicsim/call_stack_info.rb', line 295</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CodePath:\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='id identifier rubyid_interesting_instructions'>interesting_instructions</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  
  <br/><br/>

  Generated on Mon Mar 17 12:27:09 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-1.9.3).
</div>

  </body>
</html>
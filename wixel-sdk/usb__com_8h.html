<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Wixel SDK: include/usb_com.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wixel_64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wixel SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">usb_com.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="com_8h_source.html">com.h</a>&gt;</code><br />
</div>
<p><a href="usb__com_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a89f90cfc26821fb2e1abf6c841394688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89f90cfc26821fb2e1abf6c841394688"></a>
typedef void(&#160;</td><td class="memItemRight" valign="bottom"><b>HandlerFunction</b>) (void)</td></tr>
<tr class="separator:a89f90cfc26821fb2e1abf6c841394688"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4e4ea7600295b8fed05dbc755b1f89e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#ac4e4ea7600295b8fed05dbc755b1f89e">usbComRxControlSignals</a> (void)</td></tr>
<tr class="separator:ac4e4ea7600295b8fed05dbc755b1f89e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0351baadf2fa877a18b5dadd3ec5d069"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a0351baadf2fa877a18b5dadd3ec5d069">usbComTxControlSignals</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> signals)</td></tr>
<tr class="separator:a0351baadf2fa877a18b5dadd3ec5d069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e969764f9e935283d901423b0865f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a97e969764f9e935283d901423b0865f2">usbComTxControlSignalEvents</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> signalEvents)</td></tr>
<tr class="separator:a97e969764f9e935283d901423b0865f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e279048957b6270938da4c75de73c82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a2e279048957b6270938da4c75de73c82">usbComService</a> (void)</td></tr>
<tr class="separator:a2e279048957b6270938da4c75de73c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4debf8fcd9e9da835b8bce67248a3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a6f4debf8fcd9e9da835b8bce67248a3f">usbComRxAvailable</a> (void)</td></tr>
<tr class="separator:a6f4debf8fcd9e9da835b8bce67248a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb32f31329b63990dfbc018db798fcc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#acb32f31329b63990dfbc018db798fcc0">usbComRxReceiveByte</a> (void)</td></tr>
<tr class="separator:acb32f31329b63990dfbc018db798fcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1203112b800aa5a91f5414eecb8262"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#add1203112b800aa5a91f5414eecb8262">usbComRxReceive</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a> *buffer, <a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> size)</td></tr>
<tr class="separator:add1203112b800aa5a91f5414eecb8262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fd7fc742abe9d8ad3b6bad95d8657b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a09fd7fc742abe9d8ad3b6bad95d8657b">usbComTxAvailable</a> (void)</td></tr>
<tr class="separator:a09fd7fc742abe9d8ad3b6bad95d8657b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e7e557d69319f5288a891348f4eb8c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a2e7e557d69319f5288a891348f4eb8c1">usbComTxSendByte</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> byte)</td></tr>
<tr class="separator:a2e7e557d69319f5288a891348f4eb8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a97017f05689c0809e933ba73326c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#aa6a97017f05689c0809e933ba73326c4">usbComTxSend</a> (const <a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a> *buffer, <a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> size)</td></tr>
<tr class="separator:aa6a97017f05689c0809e933ba73326c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ada4b8b2f84475c89deb96d0992f74e56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_c_m___l_i_n_e___c_o_d_i_n_g.html">ACM_LINE_CODING</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#ada4b8b2f84475c89deb96d0992f74e56">usbComLineCoding</a></td></tr>
<tr class="separator:ada4b8b2f84475c89deb96d0992f74e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b42676874da0dee206c3d59b774d47"><td class="memItemLeft" align="right" valign="top">HandlerFunction *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__com_8h.html#a51b42676874da0dee206c3d59b774d47">usbComLineCodingChangeHandler</a></td></tr>
<tr class="separator:a51b42676874da0dee206c3d59b774d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <code>usb_com.lib</code> library implements a virtual COM/serial port over USB using the CDC ACM class. See also <a class="el" href="com_8h.html">com.h</a>. </p>

<p>Definition in file <a class="el" href="usb__com_8h_source.html">usb_com.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6f4debf8fcd9e9da835b8bce67248a3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> usbComRxAvailable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of bytes in the RX buffer that can be received immediately.</dd></dl>
<p>You can use this function to see if any bytes have been received, and then use <a class="el" href="usb__com_8h.html#acb32f31329b63990dfbc018db798fcc0">usbComRxReceiveByte()</a> to actually get the byte and process it.</p>
<p>The return value of this function might be lower than the actual number of bytes that the USB host is trying to send. Higher-level code should not count on the return value of this function reaching anything higher than 1. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00299">299</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac4e4ea7600295b8fed05dbc755b1f89e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> usbComRxControlSignals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the current state of the virtual RTS and DTR control lines. The states of these lines are controlled by the USB Host.</p>
<p>The default values are RTS=0 and DTR=0. In Windows, when a typical terminal program opens the COM port, both RTS and DTR go to 1. When the program closes the port, DTR goes to 0 but RTS remains at 1.</p>
<p>The bits of this byte are defined in <a class="el" href="com_8h.html">com.h</a>:</p><ul>
<li>Bit 0: <a class="el" href="com_8h.html#a957fe19b8282a26322c8606920a96679">ACM_CONTROL_LINE_DTR</a></li>
<li>Bit 1: <a class="el" href="com_8h.html#a2464ffae9d2940e9880a7e5fa8c133e1">ACM_CONTROL_LINE_RTS</a></li>
<li>Bit 2-7: Reserved (should always be zero)</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if (usbComRxControlSignals() &amp; ACM_CONTROL_LINE_DTR)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // DTR is 1, which traditionally means the DTE (host) is present.</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;}</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;else</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;{</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    // DTR is 0, which traditionally means the DTE (host) is not present.</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;}</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;if (usbComRxControlSignals() &amp; ACM_CONTROL_LINE_RTS)</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    // RTS is 1, which traditionally means &quot;Activate carrier&quot; or</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    // tells DCE (device) to prepare to accept data from DTE (host).</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;else</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    // RTS is 0, which traditionally means &quot;Deactivate carrier&quot;.</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00515">515</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="add1203112b800aa5a91f5414eecb8262"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComRxReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the specified number of bytes from USB and stores them in memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer to store the data in. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a non-blocking function: you must call <a class="el" href="usb__com_8h.html#a6f4debf8fcd9e9da835b8bce67248a3f">usbComRxAvailable()</a> before calling this function and be sure not to read too many bytes. The <code>size</code> parameter should not exceed the last value returned by <a class="el" href="usb__com_8h.html#a6f4debf8fcd9e9da835b8bce67248a3f">usbComRxAvailable()</a>.</p>
<p>See also <a class="el" href="usb__com_8h.html#acb32f31329b63990dfbc018db798fcc0">usbComRxReceiveByte()</a>. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00343">343</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="acb32f31329b63990dfbc018db798fcc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> usbComRxReceiveByte </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A byte from the RX buffer.</dd></dl>
<p>Bytes are returned in the order they were received from the USB host.</p>
<p>This is a non-blocking function: you must call <a class="el" href="usb__com_8h.html#a6f4debf8fcd9e9da835b8bce67248a3f">usbComRxAvailable()</a> before calling this function and be sure not to read too many bytes. The number of times you call this should not exceed the last value returned by <a class="el" href="usb__com_8h.html#a6f4debf8fcd9e9da835b8bce67248a3f">usbComRxAvailable()</a>. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00325">325</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2e279048957b6270938da4c75de73c82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComService </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function should be called regularly (at least every 50&#160;ms) if you are using this library. One of the things this function does is call <a class="el" href="usb_8h.html#a602c14b8f268adeae6896014c9a79909">usbPoll()</a>. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00373">373</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a09fd7fc742abe9d8ad3b6bad95d8657b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> usbComTxAvailable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of bytes available in the TX buffers.</dd></dl>
<p>The <code>usb_cdc_acm.lib</code> library uses a double-buffered endpoint with 64-byte buffers, so if the USB host keeps reading data from the device then this function will eventually return 128. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00449">449</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a97e969764f9e935283d901423b0865f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComTxControlSignalEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>signalEvents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows you to report certain events to the USB host. Unlike CD and DSR, which represent the state of a control line, these represent events that happen at a particular time.</p>
<p>The valid bits of the <code>signalEvents</code> parameter are defined in <a class="el" href="com_8h.html">com.h</a>:</p><ul>
<li>Bit 2: <a class="el" href="com_8h.html#aed8291abc57022a15df51ec9c1f89538">ACM_SERIAL_STATE_BREAK</a></li>
<li>Bit 3: <a class="el" href="com_8h.html#ad0a8d87936dbfb28d1cb5764576322bd">ACM_SERIAL_STATE_RING_SIGNAL</a></li>
<li>Bit 4: <a class="el" href="com_8h.html#a82215adbdb8fee0cfd118a88e6f82510">ACM_SERIAL_STATE_FRAMING</a></li>
<li>Bit 5: <a class="el" href="com_8h.html#ae5617662848b001877c60c0812644940">ACM_SERIAL_STATE_PARITY</a></li>
<li>Bit 6: <a class="el" href="com_8h.html#a9a23f42a49f4530172687f3a3a16331b">ACM_SERIAL_STATE_OVERRUN</a></li>
<li>Bits 0, 1, and 7: Reserved (should be zero).</li>
</ul>
<p>You can report multiple events with one call to this function.</p>
<p>Example use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;if (uart0RxParityErrorOccurred)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    // A parity error occurred on UART 1.</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    uart0RxParityErrorOccurred = 0;  // Clear the flag.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    usbComTxControlSignalEvents(ACM_SERIAL_STATE_PARITY);  // Report it to the USB host.</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00525">525</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0351baadf2fa877a18b5dadd3ec5d069"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComTxControlSignals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>signals</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state of the virtual CD and DSR control lines. The value of these lines control lines are reported back to the USB host.</p>
<p>The valid bits of the <code>signals</code> parameter are defined in <a class="el" href="com_8h.html">com.h</a>:</p><ul>
<li>Bit 0: <a class="el" href="com_8h.html#a4eabc5297a82e91af1e2eeaa6ce04cc9">ACM_SERIAL_STATE_RX_CARRIER</a>, a.k.a. CD or CdHolding</li>
<li>Bit 1: <a class="el" href="com_8h.html#aa49ef238e10aed5277d5db89d0aacb16">ACM_SERIAL_STATE_TX_CARRIER</a>, a.k.a. DSR or DsrHolding</li>
<li>Bit 2-7: Reserved (should be zero). </li>
</ul>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00520">520</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6a97017f05689c0809e933ba73326c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComTxSend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds bytes to the TX buffers, which means they will be eventually sent to the USB host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>A pointer to the bytes to send. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to send.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a non-blocking function: you must call <a class="el" href="usb__com_8h.html#a09fd7fc742abe9d8ad3b6bad95d8657b">usbComTxAvailable()</a> before calling this function and be sure not to add too many bytes to the buffer. The <code>size</code> parameter should not exceed the last value returned by <a class="el" href="usb__com_8h.html#a09fd7fc742abe9d8ad3b6bad95d8657b">usbComTxAvailable()</a>. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00477">477</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2e7e557d69319f5288a891348f4eb8c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbComTxSendByte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a byte to the TX buffer, which means it will be eventually sent to the USB host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">byte</td><td>The byte to send.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a non-blocking function: you must call <a class="el" href="usb__com_8h.html#a09fd7fc742abe9d8ad3b6bad95d8657b">usbComTxAvailable()</a> before calling this function and be sure not to add too many bytes to the buffer. The number of times you call this should not exceed the last value returned by <a class="el" href="usb__com_8h.html#a09fd7fc742abe9d8ad3b6bad95d8657b">usbComTxAvailable()</a>. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00498">498</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ada4b8b2f84475c89deb96d0992f74e56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_c_m___l_i_n_e___c_o_d_i_n_g.html">ACM_LINE_CODING</a> <a class="el" href="cc2511__types_8h.html#a40236c8c1d02f94f1fb4669ca607769d">XDATA</a> usbComLineCoding</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The current line coding. This includes information such as the desired baud rate, and is controlled by the USB host. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00079">79</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
<a class="anchor" id="a51b42676874da0dee206c3d59b774d47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HandlerFunction* usbComLineCodingChangeHandler</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to a function that will be called whenever <a class="el" href="usb__com_8h.html#ada4b8b2f84475c89deb96d0992f74e56">usbComLineCoding</a> gets set by the USB host. </p>

<p>Definition at line <a class="el" href="usb__cdc__acm_8c_source.html#l00087">87</a> of file <a class="el" href="usb__cdc__acm_8c_source.html">usb_cdc_acm.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 28 2015 11:52:10 for Wixel SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Wixel SDK: include/radio_com.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wixel_64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wixel SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">include/radio_com.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="radio__link_8h_source.html">radio_link.h</a>&gt;</code><br/>
</div>
<p><a href="radio__com_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#a11c19df4ab3bd514cc539d22f79cd733">radioComInit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#a7009e2583b898907a3e47e0722f9cf44">radioComRxAvailable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#a9f194ddafe90e9f14571e5e5bbb7fee6">radioComRxReceiveByte</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#a85470e210835a9c8b13f390c2bb22f34">radioComTxService</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#ab6baad52d12a1da6bd4c7e5223513b87">radioComTxAvailable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#abfaa498e968e4c11d61889c467a8982b">radioComTxSendByte</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> byte)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#afa0c458d9f26ae58af0d1c90cce9d352">radioComTxControlSignals</a> (<a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> controlSignals)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#afe242da634530429fbe8e3cb1d5b0258">radioComRxControlSignals</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#a5cf13162aa17922ccb9c5f83f104ba49">BIT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__com_8h.html#a37d39a1b11c22b8b3392f3bee84416af">radioComRxEnforceOrdering</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <code>radio_com.lib</code> library provides reliable, ordered delivery and reception of a stream of bytes between two devices. This library depends on <code>radio_link.lib</code>. For many applications, this library is easier to use than <code>radio_link.lib</code> because this library takes care of dividing the stream of bytes into packets.</p>
<p>This library depends on <code>radio_link.lib</code>, which depends on <code>radio_mac.lib</code>, which uses an interrupt. For this library to work, you must write <code>include &lt;<a class="el" href="radio__com_8h.html">radio_com.h</a>&gt;</code> in the source file that contains your main() function.</p>
<p>This library has the same limitations as <code>radio_link.lib</code>: It does not work if there are more than two Wixels broadcasting on the same channel. For wireless communication between more than two Wixels, you can use <code>radio_queue.lib</code> (see <a class="el" href="radio__queue_8h.html">radio_queue.h</a>).</p>
<p>This library also supports sending 8 control signals to the other Wixel and receiving 8 control signals from the other Wixel. </p>

<p>Definition in file <a class="el" href="radio__com_8h_source.html">radio_com.h</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a11c19df4ab3bd514cc539d22f79cd733"></a><!-- doxytag: member="radio_com.h::radioComInit" ref="a11c19df4ab3bd514cc539d22f79cd733" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radioComInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the <code>radio_com.lib</code> library and the lower-level libraries that it depends on. This must be called before any of the other radioCom* functions. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00032">32</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7009e2583b898907a3e47e0722f9cf44"></a><!-- doxytag: member="radio_com.h::radioComRxAvailable" ref="a7009e2583b898907a3e47e0722f9cf44" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioComRxAvailable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes in the RX buffer.</dd></dl>
<p>You can use this function to see if any bytes have been received, and then use <a class="el" href="radio__com_8h.html#a9f194ddafe90e9f14571e5e5bbb7fee6">radioComRxReceiveByte()</a> to actually get the byte and process it. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00103">103</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="afe242da634530429fbe8e3cb1d5b0258"></a><!-- doxytag: member="radio_com.h::radioComRxControlSignals" ref="afe242da634530429fbe8e3cb1d5b0258" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioComRxControlSignals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The state of the eight virtual RX control signals. Each bit represents a different control signal.</dd></dl>
<p>The values of these eight control lines are zero by default, but they can be set wirelessly by the other Wixel.</p>
<p>Note that these signals (the RX signals) are independent of the signals transmitted to other Wixel (the TX signals).</p>
<p>The meaning of these control signals (e.g. their mapping to RS-232 control signals) is determined by higher-level code. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00125">125</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9f194ddafe90e9f14571e5e5bbb7fee6"></a><!-- doxytag: member="radio_com.h::radioComRxReceiveByte" ref="a9f194ddafe90e9f14571e5e5bbb7fee6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioComRxReceiveByte </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>A byte from the RX buffer.</dd></dl>
<p>Bytes are returned in the order they were received from the other Wixel.</p>
<p>This is a non-blocking function: you must call <a class="el" href="radio__com_8h.html#a7009e2583b898907a3e47e0722f9cf44">radioComRxAvailable()</a> before calling this function and be sure not to read too many bytes. The number of times you call this should not exceed the last value returned by <a class="el" href="radio__com_8h.html#a7009e2583b898907a3e47e0722f9cf44">radioComRxAvailable()</a>. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00111">111</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab6baad52d12a1da6bd4c7e5223513b87"></a><!-- doxytag: member="radio_com.h::radioComTxAvailable" ref="ab6baad52d12a1da6bd4c7e5223513b87" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioComTxAvailable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes available in the TX buffer. </dd></dl>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00197">197</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="afa0c458d9f26ae58af0d1c90cce9d352"></a><!-- doxytag: member="radio_com.h::radioComTxControlSignals" ref="afa0c458d9f26ae58af0d1c90cce9d352" args="(uint8 controlSignals)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radioComTxControlSignals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>controlSignals</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">controlSignals</td><td>The state of the eight virtual TX control signals. Each bit represents a different control signal.</td></tr>
  </table>
  </dd>
</dl>
<p>The values of these eight control lines are transmitted to the other Wixel.</p>
<p>Note that these signals (the TX signals) are independent of the signals received from the other Wixel (the RX signals).</p>
<p>The meaning of these control signals (e.g. their mapping to RS-232 control signals) is determined by higher-level code. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00235">235</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="abfaa498e968e4c11d61889c467a8982b"></a><!-- doxytag: member="radio_com.h::radioComTxSendByte" ref="abfaa498e968e4c11d61889c467a8982b" args="(uint8 byte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radioComTxSendByte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a byte to the TX buffer, which means it will be eventually sent to the other Wixel over the radio.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">byte</td><td>The byte to send.</td></tr>
  </table>
  </dd>
</dl>
<p>This is a non-blocking function: you must call <a class="el" href="radio__com_8h.html#ab6baad52d12a1da6bd4c7e5223513b87">radioComTxAvailable()</a> before calling this function and be sure not to add too many bytes to the buffer. The number of times you call this should not exceed the last value returned by <a class="el" href="radio__com_8h.html#ab6baad52d12a1da6bd4c7e5223513b87">radioComTxAvailable()</a>.</p>
<p>If you call this function, you must also call <a class="el" href="radio__com_8h.html#a85470e210835a9c8b13f390c2bb22f34">radioComTxService()</a> regularly. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00216">216</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<a class="anchor" id="a85470e210835a9c8b13f390c2bb22f34"></a><!-- doxytag: member="radio_com.h::radioComTxService" ref="a85470e210835a9c8b13f390c2bb22f34" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radioComTxService </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function must be called regularly if you want to send data or control signals to the other Wixel. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00155">155</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a37d39a1b11c22b8b3392f3bee84416af"></a><!-- doxytag: member="radio_com.h::radioComRxEnforceOrdering" ref="a37d39a1b11c22b8b3392f3bee84416af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#a5cf13162aa17922ccb9c5f83f104ba49">BIT</a> <a class="el" href="radio__com_8h.html#a37d39a1b11c22b8b3392f3bee84416af">radioComRxEnforceOrdering</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is a configuration option for the <code>radio_com.lib</code> library that can be set by higher-level code. The default value is 0.</p>
<p>When this bit is 1, the radio_com library guarantees that the higher-level code receives notifications of changed control signals via <a class="el" href="radio__com_8h.html#afe242da634530429fbe8e3cb1d5b0258">radioComRxControlSignals()</a> and receives data bytes via <a class="el" href="radio__com_8h.html#a7009e2583b898907a3e47e0722f9cf44">radioComRxAvailable()</a> and <a class="el" href="radio__com_8h.html#a9f194ddafe90e9f14571e5e5bbb7fee6">radioComRxReceiveByte()</a> in the <b>same order</b> that these two pieces of information were received from the radio. If this bit is 1, higher-level code must call <a class="el" href="radio__com_8h.html#afe242da634530429fbe8e3cb1d5b0258">radioComRxControlSignals()</a> regularly, or else it will not be able to receive bytes using <a class="el" href="radio__com_8h.html#a7009e2583b898907a3e47e0722f9cf44">radioComRxAvailable()</a> and <a class="el" href="radio__com_8h.html#a9f194ddafe90e9f14571e5e5bbb7fee6">radioComRxReceiveByte()</a>.</p>
<p>When this bit is 0, the higher-level code does not have to call <a class="el" href="radio__com_8h.html#afe242da634530429fbe8e3cb1d5b0258">radioComRxControlSignals()</a> regularly.</p>
<p>We recommend that if you call <a class="el" href="radio__com_8h.html#afe242da634530429fbe8e3cb1d5b0258">radioComRxControlSignals()</a>, you should call it regularly and set <a class="el" href="radio__com_8h.html#a37d39a1b11c22b8b3392f3bee84416af">radioComRxEnforceOrdering</a> to 1 at the beginning of your program. If you are not using the control signals, you should leave this bit at 0. </p>

<p>Definition at line <a class="el" href="radio__com_8c_source.html#l00007">7</a> of file <a class="el" href="radio__com_8c_source.html">radio_com.c</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Jan 23 2012 12:20:49 for Wixel SDK by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Wixel SDK: include/radio_queue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wixel_64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Wixel SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">include/radio_queue.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="cc2511__types_8h_source.html">cc2511_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="radio__mac_8h_source.html">radio_mac.h</a>&gt;</code><br/>
</div>
<p><a href="radio__queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a1f7a2fb54bd3c5031f3dc7f81cb6ff44">RADIO_QUEUE_PAYLOAD_SIZE</a>&#160;&#160;&#160;19</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#aaf30f109a5da40361486a0293d2bd6ad">radioQueueInit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a7f1e9385e002bb6ef53f55d3e943e5aa">radioQueueTxAvailable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a0a13aa5b3a0844678727af43fe44bbc4">radioQueueTxQueued</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> XDATA *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a94f52371368a91104b3a22d8dafee7bf">radioQueueTxCurrentPacket</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9089d9ad9c16d4d71876a5944e60875d"></a><!-- doxytag: member="radio_queue.h::radioQueueTxSendPacket" ref="a9089d9ad9c16d4d71876a5944e60875d" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>radioQueueTxSendPacket</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> XDATA *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a8df8f170aafae89aebecb6babe2babd2">radioQueueRxCurrentPacket</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a707cf051c383feec517a6b327b84c718"></a><!-- doxytag: member="radio_queue.h::radioQueueRxDoneWithPacket" ref="a707cf051c383feec517a6b327b84c718" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>radioQueueRxDoneWithPacket</b> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#ac44d0188f4f50fd9b03031c1a06bd0a9">int32</a> CODE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#a617ee1a94407bccbd5090bd1460a1152">param_radio_channel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="cc2511__types_8h.html#a5cf13162aa17922ccb9c5f83f104ba49">BIT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="radio__queue_8h.html#ada854f83492bf83a59febbacf138e28f">radioQueueAllowCrcErrors</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><code>radio_queue.lib</code> is a library that provides a simple mechanism for queuing the transmission and reception of RF packets on a device. It does not ensure reliability, nor does it specify a format for the packet contents, other than requiring the first byte of the packet to contain its length. This library depends on <code>radio_mac.lib</code>. </p>

<p>Definition in file <a class="el" href="radio__queue_8h_source.html">radio_queue.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a1f7a2fb54bd3c5031f3dc7f81cb6ff44"></a><!-- doxytag: member="radio_queue.h::RADIO_QUEUE_PAYLOAD_SIZE" ref="a1f7a2fb54bd3c5031f3dc7f81cb6ff44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RADIO_QUEUE_PAYLOAD_SIZE&#160;&#160;&#160;19</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Each packet can contain at most 19 bytes of payload. (This was chosen to match radio_link's 18-byte payload + 1-byte header.) </p>

<p>Definition at line <a class="el" href="radio__queue_8h_source.html#l00017">17</a> of file <a class="el" href="radio__queue_8h_source.html">radio_queue.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aaf30f109a5da40361486a0293d2bd6ad"></a><!-- doxytag: member="radio_queue.h::radioQueueInit" ref="aaf30f109a5da40361486a0293d2bd6ad" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void radioQueueInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the radio_queue library and the lower-level libraries that radio_queue depends on. This must be called before any other functions in the library. </p>

<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00067">67</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8df8f170aafae89aebecb6babe2babd2"></a><!-- doxytag: member="radio_queue.h::radioQueueRxCurrentPacket" ref="a8df8f170aafae89aebecb6babe2babd2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> XDATA* radioQueueRxCurrentPacket </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a pointer to the current RX packet (the earliest packet received by radio_queue which has not been processed yet by higher-level code). Returns 0 if there is no RX packet available. The RX packet has the same format as the TX packet: the length of the payload is at offset 0 and the data starts at offset 1. When you are done reading the packet, you should call radioQueueRxDoneWithPacket. This frees the current packet buffer so it can receive another packet. </p>

<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00127">127</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7f1e9385e002bb6ef53f55d3e943e5aa"></a><!-- doxytag: member="radio_queue.h::radioQueueTxAvailable" ref="a7f1e9385e002bb6ef53f55d3e943e5aa" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioQueueTxAvailable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of radio packet buffers that are currently free (available to hold data).</dd></dl>
<p>This function has no side effects. </p>

<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00087">87</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a94f52371368a91104b3a22d8dafee7bf"></a><!-- doxytag: member="radio_queue.h::radioQueueTxCurrentPacket" ref="a94f52371368a91104b3a22d8dafee7bf" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> XDATA* radioQueueTxCurrentPacket </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a pointer to the current packet, or 0 if no packet is available. This function has no side effects. To populate this packet, you should write the length of the payload data (which must not exceed RADIO_QUEUE_PAYLOAD_SIZE) to offset 0, and write the data starting at offset 1. After you have put this data in the packet, call radioQueueTxSendPacket to actually queue the packet up to be sent on the radio. Example usage: </p>
<pre>
   uint8 XDATA * packet = <a class="el" href="radio__queue_8h.html#a94f52371368a91104b3a22d8dafee7bf">radioQueueTxCurrentPacket()</a>;
   if (packet != 0)
   {
       packet[0] = 3;   // must not exceed RADIO_QUEUE_PAYLOAD_SIZE
       packet[1] = 'a';
       packet[2] = 'b';
       packet[3] = 'c';
       radioQueueTxSendPacket();
   }
 </pre> 
<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00098">98</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0a13aa5b3a0844678727af43fe44bbc4"></a><!-- doxytag: member="radio_queue.h::radioQueueTxQueued" ref="a0a13aa5b3a0844678727af43fe44bbc4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> radioQueueTxQueued </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of radio packet buffers that are currently busy (holding a data packet that has not been successfully sent yet).</dd></dl>
<p>This function has no side effects. </p>

<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00093">93</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a617ee1a94407bccbd5090bd1460a1152"></a><!-- doxytag: member="radio_queue.h::param_radio_channel" ref="a617ee1a94407bccbd5090bd1460a1152" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#ac44d0188f4f50fd9b03031c1a06bd0a9">int32</a> CODE <a class="el" href="radio__queue_8h.html#a617ee1a94407bccbd5090bd1460a1152">param_radio_channel</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Defines the frequency to use. Valid values are from 0 to 255. To avoid interference, the channel numbers of different Wixel pairs operating in the should be at least 2 apart. (This is a Wixel App parameter; the user can set it using the Wixel Configuration Utility.) </p>

<p>Definition at line <a class="el" href="radio__link_8c_source.html#l00020">20</a> of file <a class="el" href="radio__link_8c_source.html">radio_link.c</a>.</p>

</div>
</div>
<a class="anchor" id="ada854f83492bf83a59febbacf138e28f"></a><!-- doxytag: member="radio_queue.h::radioQueueAllowCrcErrors" ref="ada854f83492bf83a59febbacf138e28f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cc2511__types_8h.html#a5cf13162aa17922ccb9c5f83f104ba49">BIT</a> <a class="el" href="radio__queue_8h.html#ada854f83492bf83a59febbacf138e28f">radioQueueAllowCrcErrors</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If this variable is set to 1, received packets will be added to the RX queue even if they have CRC errors. This means that you will get corrupt and spurious data in addition to good data, but it can be useful for applications such as an RF packet sniffer. This variable has a value of 0 by default. </p>

<p>Definition at line <a class="el" href="radio__queue_8c_source.html#l00063">63</a> of file <a class="el" href="radio__queue_8c_source.html">radio_queue.c</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Jul 19 2011 14:54:54 for Wixel SDK by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>

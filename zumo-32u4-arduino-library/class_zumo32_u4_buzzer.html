<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zumo32U4 library: Zumo32U4Buzzer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zumo32U4 library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_zumo32_u4_buzzer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Zumo32U4Buzzer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Plays beeps and music on the buzzer on the Zumo 32U4.  
 <a href="class_zumo32_u4_buzzer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_zumo32_u4_buzzer_8h_source.html">Zumo32U4Buzzer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Zumo32U4Buzzer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_zumo32_u4_buzzer.png" usemap="#Zumo32U4Buzzer_map" alt=""/>
  <map id="Zumo32U4Buzzer_map" name="Zumo32U4Buzzer_map">
<area href="class_pololu_buzzer.html" title="Play beeps and music with the buzzer." alt="PololuBuzzer" shape="rect" coords="0,0,112,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a931fafd76045ae59d4ba62c9bf90b0dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a931fafd76045ae59d4ba62c9bf90b0dc">playFrequency</a> (unsigned int freq, unsigned int duration, unsigned char volume)</td></tr>
<tr class="memdesc:a931fafd76045ae59d4ba62c9bf90b0dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the specified frequency for the specified duration.  <a href="class_pololu_buzzer.html#a931fafd76045ae59d4ba62c9bf90b0dc">More...</a><br /></td></tr>
<tr class="separator:a931fafd76045ae59d4ba62c9bf90b0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989d410dd6cdb7abfa136c3734040fb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a989d410dd6cdb7abfa136c3734040fb5">playNote</a> (unsigned char note, unsigned int duration, unsigned char volume)</td></tr>
<tr class="memdesc:a989d410dd6cdb7abfa136c3734040fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the specified note for the specified duration.  <a href="class_pololu_buzzer.html#a989d410dd6cdb7abfa136c3734040fb5">More...</a><br /></td></tr>
<tr class="separator:a989d410dd6cdb7abfa136c3734040fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f45ef7cdf9dc8fc54e617244368277"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277">play</a> (const char *sequence)</td></tr>
<tr class="memdesc:a22f45ef7cdf9dc8fc54e617244368277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the specified sequence of notes.  <a href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277">More...</a><br /></td></tr>
<tr class="separator:a22f45ef7cdf9dc8fc54e617244368277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ff4e9d9f7e4f37a58e149640b61f4e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a07ff4e9d9f7e4f37a58e149640b61f4e">playFromProgramSpace</a> (const char *sequence)</td></tr>
<tr class="memdesc:a07ff4e9d9f7e4f37a58e149640b61f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays the specified sequence of notes from program space.  <a href="class_pololu_buzzer.html#a07ff4e9d9f7e4f37a58e149640b61f4e">More...</a><br /></td></tr>
<tr class="separator:a07ff4e9d9f7e4f37a58e149640b61f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72bde97ceceef8705f1bbaeccb970db"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#ab72bde97ceceef8705f1bbaeccb970db">playMode</a> (unsigned char mode)</td></tr>
<tr class="memdesc:ab72bde97ceceef8705f1bbaeccb970db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls whether <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> sequence is played automatically or must be driven with <code><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929" title="Starts the next note in a sequence, if necessary, in PLAY_CHECK mode.">playCheck()</a></code>.  <a href="class_pololu_buzzer.html#ab72bde97ceceef8705f1bbaeccb970db">More...</a><br /></td></tr>
<tr class="separator:ab72bde97ceceef8705f1bbaeccb970db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427225dcc85c1e65078e4397b9890929"><td class="memItemLeft" align="right" valign="top">static unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929">playCheck</a> ()</td></tr>
<tr class="memdesc:a427225dcc85c1e65078e4397b9890929"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the next note in a sequence, if necessary, in <code>PLAY_CHECK</code> mode.  <a href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929">More...</a><br /></td></tr>
<tr class="separator:a427225dcc85c1e65078e4397b9890929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8045fdf0a144e0b71a5b223a0ef34027"><td class="memItemLeft" align="right" valign="top">static unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a8045fdf0a144e0b71a5b223a0ef34027">isPlaying</a> ()</td></tr>
<tr class="memdesc:a8045fdf0a144e0b71a5b223a0ef34027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a note, frequency, or sequence is being played.  <a href="class_pololu_buzzer.html#a8045fdf0a144e0b71a5b223a0ef34027">More...</a><br /></td></tr>
<tr class="separator:a8045fdf0a144e0b71a5b223a0ef34027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233fe0ffe5f23582b1c55beaa718d527"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pololu_buzzer.html#a233fe0ffe5f23582b1c55beaa718d527">stopPlaying</a> ()</td></tr>
<tr class="memdesc:a233fe0ffe5f23582b1c55beaa718d527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops any note, frequency, or melody being played.  <a href="class_pololu_buzzer.html#a233fe0ffe5f23582b1c55beaa718d527">More...</a><br /></td></tr>
<tr class="separator:a233fe0ffe5f23582b1c55beaa718d527"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Plays beeps and music on the buzzer on the Zumo 32U4. </p>
<p>This class uses Timer 4 and pin 6 (PD7/OC4D) to play beeps and melodies on the Zumo 32U4 buzzer.</p>
<p>Note durations are timed using a timer overflow interrupt (<code>TIMER4_OVF</code>), which will briefly interrupt execution of your main program at the frequency of the sound being played. In most cases, the interrupt-handling routine is very short (several microseconds). However, when playing a sequence of notes in <code>PLAY_AUTOMATIC</code> mode (the default mode) with the <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> command, this interrupt takes much longer than normal (perhaps several hundred microseconds) every time it starts a new note. It is important to take this into account when writing timing-critical code. </p>

<p class="definition">Definition at line <a class="el" href="_zumo32_u4_buzzer_8h_source.html#l00023">23</a> of file <a class="el" href="_zumo32_u4_buzzer_8h_source.html">Zumo32U4Buzzer.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8045fdf0a144e0b71a5b223a0ef34027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8045fdf0a144e0b71a5b223a0ef34027">&#9670;&nbsp;</a></span>isPlaying()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char PololuBuzzer::isPlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether a note, frequency, or sequence is being played. </p>
<dl class="section return"><dt>Returns</dt><dd>1 if the buzzer is current playing a note, frequency, or sequence; 0 otherwise.</dd></dl>
<p>This method returns 1 (true) if the buzzer is currently playing a note/frequency or if it is still playing a sequence started by <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code>. Otherwise, it returns 0 (false). You can poll this method to determine when it's time to play the next note in a sequence, or you can use it as the argument to a delay loop to wait while the buzzer is busy. </p>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00400">400</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a22f45ef7cdf9dc8fc54e617244368277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f45ef7cdf9dc8fc54e617244368277">&#9670;&nbsp;</a></span>play()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::play </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plays the specified sequence of notes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sequence</td><td>Char array containing a sequence of notes to play.</td></tr>
  </table>
  </dd>
</dl>
<p>If the play mode is <code>PLAY_AUTOMATIC</code> (default), the sequence of notes will play with no further action required by the user. If the play mode is <code>PLAY_CHECK</code>, the user will need to call <code><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929" title="Starts the next note in a sequence, if necessary, in PLAY_CHECK mode.">playCheck()</a></code> in the main loop to initiate the playing of each new note in the sequence. The play mode can be changed while the sequence is playing. The sequence syntax is modeled after the PLAY commands in GW-BASIC, with just a few differences.</p>
<p>The notes are specified by the characters <b>C</b>, <b>D</b>, <b>E</b>, <b>F</b>, <b>G</b>, <b>A</b>, and <b>B</b>, and they are played by default as "quarter notes" with a length of 500 ms. This corresponds to a tempo of 120 beats/min. Other durations can be specified by putting a number immediately after the note. For example, C8 specifies C played as an eighth note, with half the duration of a quarter note. The special note <b>R</b> plays a rest (no sound). The sequence parser is case-insensitive and ignores spaces, which may be used to format your music nicely.</p>
<p>Various control characters alter the sound: </p><table class="doxtable">
<tr>
<th>Control character(s)</th><th>Effect </th></tr>
<tr>
<td><b>A&ndash;G</b> </td><td>Specifies a note that will be played. </td></tr>
<tr>
<td><b>R</b> </td><td>Specifies a rest (no sound for the duration of the note). </td></tr>
<tr>
<td><b>+</b> or <b>#</b> after a note </td><td>Raises the preceding note one half-step. </td></tr>
<tr>
<td><b>-</b> after a note </td><td>Lowers the preceding note one half-step. </td></tr>
<tr>
<td><b>1&ndash;2000</b> after a note </td><td>Determines the duration of the preceding note. For example, C16 specifies C played as a sixteenth note (1/16th the length of a whole note). </td></tr>
<tr>
<td><b>.</b> after a note </td><td>"Dots" the preceding note, increasing the length by 50%. Each additional dot adds half as much as the previous dot, so that "A.." is 1.75 times the length of "A". </td></tr>
<tr>
<td><b>&gt;</b> before a note </td><td>Plays the following note one octave higher. </td></tr>
<tr>
<td><b>&lt;</b> before a note </td><td>Plays the following note one octave lower. </td></tr>
<tr>
<td><b>O</b> followed by a number </td><td>Sets the octave. (default: <b>O4</b>) </td></tr>
<tr>
<td><b>T</b> followed by a number </td><td>Sets the tempo in beats per minute (BPM). (default: <b>T120</b>) </td></tr>
<tr>
<td><b>L</b> followed by a number </td><td>Sets the default note duration to the type specified by the number: 4 for quarter notes, 8 for eighth notes, 16 for sixteenth notes, etc. (default: <b>L4</b>) </td></tr>
<tr>
<td><b>V</b> followed by a number </td><td>Sets the music volume (0&ndash;15). (default: <b>V15</b>) </td></tr>
<tr>
<td><b>MS</b> </td><td>Sets all subsequent notes to play play staccato &ndash; each note is played for 1/2 of its allotted time, followed by an equal period of silence. </td></tr>
<tr>
<td><b>ML</b> </td><td>Sets all subsequent notes to play legato &ndash; each note is played for full length. This is the default setting. </td></tr>
<tr>
<td><b>!</b> </td><td>Resets the octave, tempo, duration, volume, and staccato setting to their default values. These settings persist from one <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> to the next, which allows you to more conveniently break up your music into reusable sections. </td></tr>
</table>
<p>This function plays the string of notes in the background while your program continues to execute. If you call another buzzer function while the melody is playing, the new function call will overwrite the previous and take control of the buzzer. If you want to string melodies together, you should put an appropriate delay after you start a melody playing. You can use the <code>is_playing()</code> function to figure out when the buzzer is through playing the melody.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
Example</h3>
<div class="fragment"><div class="line"><a class="code" href="class_pololu_buzzer.html">PololuBuzzer</a> buzzer;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// play a C major scale up and back down:</span></div>
<div class="line">buzzer.<a class="code" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277">play</a>(<span class="stringliteral">&quot;!L16 V8 cdefgab&gt;cbagfedc&quot;</span>);</div>
<div class="line"><span class="keywordflow">while</span> (buzzer.<a class="code" href="class_pololu_buzzer.html#a8045fdf0a144e0b71a5b223a0ef34027">isPlaying</a>());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the first few measures of Bach&#39;s fugue in D-minor</span></div>
<div class="line">buzzer.<a class="code" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277">play</a>(<span class="stringliteral">&quot;!T240 L8 agafaea dac+adaea fa&lt;aa&lt;bac#a dac#adaea f4&quot;</span>);</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00463">463</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a427225dcc85c1e65078e4397b9890929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427225dcc85c1e65078e4397b9890929">&#9670;&nbsp;</a></span>playCheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char PololuBuzzer::playCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts the next note in a sequence, if necessary, in <code>PLAY_CHECK</code> mode. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if sequence is complete, 1 otherwise.</dd></dl>
<p>This method only needs to be called if you are in <code>PLAY_CHECK</code> mode. It checks to see whether it is time to start another note in the sequence initiated by <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code>, and starts it if so. If it is not yet time to start the next note, this method returns without doing anything. Call this as often as possible in your main loop to avoid delays between notes in the sequence. This method returns 0 (false) if the melody to be played is complete, otherwise it returns 1 (true). </p>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00725">725</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a931fafd76045ae59d4ba62c9bf90b0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a931fafd76045ae59d4ba62c9bf90b0dc">&#9670;&nbsp;</a></span>playFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::playFrequency </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plays the specified frequency for the specified duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>Frequency to play in Hz (or 0.1 Hz if the <code>DIV_BY_10</code> bit is set). </td></tr>
    <tr><td class="paramname">duration</td><td>Duration of the note in milliseconds. </td></tr>
    <tr><td class="paramname">volume</td><td>Volume of the note (0&ndash;15).</td></tr>
  </table>
  </dd>
</dl>
<p>The <em>frequency</em> argument must be between 40 Hz and 10 kHz. If the most significant bit of <em>frequency</em> is set, the frequency played is the value of the lower 15 bits of <em>frequency</em> in units of 0.1 Hz. Therefore, you can play a frequency of 44.5 Hz by using a <em>frequency</em> of <code>(DIV_BY_10 | 445)</code>. If the most significant bit of <em>frequency</em> is not set, the units for frequency are Hz. The <em>volume</em> argument controls the buzzer volume, with 15 being the loudest and 0 being the quietest. A <em>volume</em> of 15 supplies the buzzer with a 50% duty cycle PWM at the specified <em>frequency</em>. Lowering <em>volume</em> by one halves the duty cycle (so 14 gives a 25% duty cycle, 13 gives a 12.5% duty cycle, etc). The volume control is somewhat crude (especially on the ATmega328/168) and should be thought of as a bonus feature.</p>
<p>This function plays the note in the background while your program continues to execute. If you call another buzzer function while the note is playing, the new function call will overwrite the previous and take control of the buzzer. If you want to string notes together, you should either use the <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> function or put an appropriate delay after you start a note playing. You can use the <code>is_playing()</code> function to figure out when the buzzer is through playing its note or melody.</p>
<h3><a class="anchor" id="autotoc_md0"></a>
Example</h3>
<div class="fragment"><div class="line"><a class="code" href="class_pololu_buzzer.html">PololuBuzzer</a> buzzer;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// play a 6 kHz note for 250 ms at a lower volume</span></div>
<div class="line">buzzer.<a class="code" href="class_pololu_buzzer.html#a931fafd76045ae59d4ba62c9bf90b0dc">playFrequency</a>(6000, 250, 12);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// wait for buzzer to finish playing the note</span></div>
<div class="line"><span class="keywordflow">while</span> (buzzer.<a class="code" href="class_pololu_buzzer.html#a8045fdf0a144e0b71a5b223a0ef34027">isPlaying</a>());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// play a 44.5 Hz note for 1 s at full volume</span></div>
<div class="line">buzzer.<a class="code" href="class_pololu_buzzer.html#a931fafd76045ae59d4ba62c9bf90b0dc">playFrequency</a>(<a class="code" href="_pololu_buzzer_8h.html#a8548d3f2b6d5fa2bcc350fad4a2c72a8">DIV_BY_10</a> | 445, 1000, 15);</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd><em>frequency</em> &times; <em>duration</em> / 1000 must be no greater than 0xFFFF (65535). This means you can't use a duration of 65535 ms for frequencies greater than 1 kHz. For example, the maximum duration you can use for a frequency of 10 kHz is 6553 ms. If you use a duration longer than this, you will produce an integer overflow that can result in unexpected behavior. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00199">199</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a07ff4e9d9f7e4f37a58e149640b61f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ff4e9d9f7e4f37a58e149640b61f4e">&#9670;&nbsp;</a></span>playFromProgramSpace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::playFromProgramSpace </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plays the specified sequence of notes from program space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sequence</td><td>Char array in program space containing a sequence of notes to play.</td></tr>
  </table>
  </dd>
</dl>
<p>A version of <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> that takes a pointer to program space instead of RAM. This is desirable since RAM is limited and the string must be in program space anyway.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Example</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;avr/pgmspace.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_pololu_buzzer.html">PololuBuzzer</a> buzzer;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> melody[] PROGMEM = <span class="stringliteral">&quot;!L16 V8 cdefgab&gt;cbagfedc&quot;</span>;</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">buzzer.<a class="code" href="class_pololu_buzzer.html#a07ff4e9d9f7e4f37a58e149640b61f4e">playFromProgramSpace</a>(melody);</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00472">472</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="ab72bde97ceceef8705f1bbaeccb970db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72bde97ceceef8705f1bbaeccb970db">&#9670;&nbsp;</a></span>playMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::playMode </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Controls whether <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> sequence is played automatically or must be driven with <code><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929" title="Starts the next note in a sequence, if necessary, in PLAY_CHECK mode.">playCheck()</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Play mode (either <code>PLAY_AUTOMATIC</code> or <code>PLAY_CHECK</code>).</td></tr>
  </table>
  </dd>
</dl>
<p>This method lets you determine whether the notes of the <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> sequence are played automatically in the background or are driven by the <code><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929" title="Starts the next note in a sequence, if necessary, in PLAY_CHECK mode.">playCheck()</a></code> method. If <em>mode</em> is <code>PLAY_AUTOMATIC</code>, the sequence will play automatically in the background, driven by the timer overflow interrupt. The interrupt will take a considerable amount of time to execute when it starts the next note in the sequence playing, so it is recommended that you do not use automatic-play if you cannot tolerate being interrupted for more than a few microseconds. If <em>mode</em> is <code>PLAY_CHECK</code>, you can control when the next note in the sequence is played by calling the <code><a class="el" href="class_pololu_buzzer.html#a427225dcc85c1e65078e4397b9890929" title="Starts the next note in a sequence, if necessary, in PLAY_CHECK mode.">playCheck()</a></code> method at acceptable points in your main loop. If your main loop has substantial delays, it is recommended that you use automatic-play mode rather than play-check mode. Note that the play mode can be changed while the sequence is being played. The mode is set to <code>PLAY_AUTOMATIC</code> by default. </p>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00708">708</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a989d410dd6cdb7abfa136c3734040fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989d410dd6cdb7abfa136c3734040fb5">&#9670;&nbsp;</a></span>playNote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::playNote </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>note</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>volume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plays the specified note for the specified duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">note</td><td>Note to play (see <a class="el" href="_pololu_buzzer_8h.html#note_macros">Note Macros</a>). </td></tr>
    <tr><td class="paramname">duration</td><td>Duration of the note in milliseconds. </td></tr>
    <tr><td class="paramname">volume</td><td>Volume of the note (0&ndash;15).</td></tr>
  </table>
  </dd>
</dl>
<p>The <em>note</em> argument is an enumeration for the notes of the equal tempered scale (ETS). See <a class="el" href="_pololu_buzzer_8h.html#note_macros">Note Macros</a> for more information. The <em>volume</em> argument controls the buzzer volume, with 15 being the loudest and 0 being the quietest. A <em>volume</em> of 15 supplies the buzzer with a 50% duty cycle PWM at the specified <em>frequency</em>. Lowering <em>volume</em> by one halves the duty cycle (so 14 gives a 25% duty cycle, 13 gives a 12.5% duty cycle, etc). The volume control is somewhat crude (especially on the ATmega328/168) and should be thought of as a bonus feature.</p>
<p>This function plays the note in the background while your program continues to execute. If you call another buzzer function while the note is playing, the new function call will overwrite the previous and take control of the buzzer. If you want to string notes together, you should either use the <code><a class="el" href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277" title="Plays the specified sequence of notes.">play()</a></code> function or put an appropriate delay after you start a note playing. You can use the <code>is_playing()</code> function to figure out when the buzzer is through playing its note or melody. </p>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00294">294</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<a id="a233fe0ffe5f23582b1c55beaa718d527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233fe0ffe5f23582b1c55beaa718d527">&#9670;&nbsp;</a></span>stopPlaying()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PololuBuzzer::stopPlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops any note, frequency, or melody being played. </p>
<p>This method will immediately silence the buzzer and terminate any note/frequency/melody that is currently playing. </p>

<p class="definition">Definition at line <a class="el" href="_pololu_buzzer_8cpp_source.html#l00483">483</a> of file <a class="el" href="_pololu_buzzer_8cpp_source.html">PololuBuzzer.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_zumo32_u4_buzzer_8h_source.html">Zumo32U4Buzzer.h</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclass_pololu_buzzer_html_a8045fdf0a144e0b71a5b223a0ef34027"><div class="ttname"><a href="class_pololu_buzzer.html#a8045fdf0a144e0b71a5b223a0ef34027">PololuBuzzer::isPlaying</a></div><div class="ttdeci">static unsigned char isPlaying()</div><div class="ttdoc">Checks whether a note, frequency, or sequence is being played.</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8cpp_source.html#l00400">PololuBuzzer.cpp:400</a></div></div>
<div class="ttc" id="aclass_pololu_buzzer_html_a22f45ef7cdf9dc8fc54e617244368277"><div class="ttname"><a href="class_pololu_buzzer.html#a22f45ef7cdf9dc8fc54e617244368277">PololuBuzzer::play</a></div><div class="ttdeci">static void play(const char *sequence)</div><div class="ttdoc">Plays the specified sequence of notes.</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8cpp_source.html#l00463">PololuBuzzer.cpp:463</a></div></div>
<div class="ttc" id="a_pololu_buzzer_8h_html_a8548d3f2b6d5fa2bcc350fad4a2c72a8"><div class="ttname"><a href="_pololu_buzzer_8h.html#a8548d3f2b6d5fa2bcc350fad4a2c72a8">DIV_BY_10</a></div><div class="ttdeci">#define DIV_BY_10</div><div class="ttdoc">frequency bit that indicates Hz/10  e.g. frequency = (445 | DIV_BY_10) gives a frequency of 44....</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8h_source.html#l00086">PololuBuzzer.h:86</a></div></div>
<div class="ttc" id="aclass_pololu_buzzer_html_a07ff4e9d9f7e4f37a58e149640b61f4e"><div class="ttname"><a href="class_pololu_buzzer.html#a07ff4e9d9f7e4f37a58e149640b61f4e">PololuBuzzer::playFromProgramSpace</a></div><div class="ttdeci">static void playFromProgramSpace(const char *sequence)</div><div class="ttdoc">Plays the specified sequence of notes from program space.</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8cpp_source.html#l00472">PololuBuzzer.cpp:472</a></div></div>
<div class="ttc" id="aclass_pololu_buzzer_html"><div class="ttname"><a href="class_pololu_buzzer.html">PololuBuzzer</a></div><div class="ttdoc">Play beeps and music with the buzzer.</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8h_source.html#l00089">PololuBuzzer.h:90</a></div></div>
<div class="ttc" id="aclass_pololu_buzzer_html_a931fafd76045ae59d4ba62c9bf90b0dc"><div class="ttname"><a href="class_pololu_buzzer.html#a931fafd76045ae59d4ba62c9bf90b0dc">PololuBuzzer::playFrequency</a></div><div class="ttdeci">static void playFrequency(unsigned int freq, unsigned int duration, unsigned char volume)</div><div class="ttdoc">Plays the specified frequency for the specified duration.</div><div class="ttdef"><b>Definition:</b> <a href="_pololu_buzzer_8cpp_source.html#l00199">PololuBuzzer.cpp:199</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
